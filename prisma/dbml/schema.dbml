//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  email String [unique]
  password String
  emailVerified DateTime
  image String
  firstName String
  isActive Boolean [not null, default: true]
  lastName String
  role Role [not null, default: 'NEW_STUDENT']
  sex String
  applications applications [not null]
  accounts accounts [not null]
  ActivationToken activation_tokens [not null]
  Session sessions [not null]
}

Table activation_tokens {
  id String [pk]
  token String [unique, not null]
  activatedAt DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  userId String [not null]
  user users [not null]
}

Table accounts {
  id String [pk]
  userId String [not null]
  type String
  provider String [not null]
  providerAccountId String [not null]
  token_type String
  refresh_token String
  access_token String
  expires_at Int
  scope String
  id_token String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user users [not null]

  indexes {
    (provider, providerAccountId) [unique]
  }
}

Table sessions {
  id String [pk]
  userId String
  sessionToken String [unique, not null]
  accessToken String
  expires DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user users
}

Table universities {
  id String [pk]
  name String [not null]
  location String [not null]
  studyPrograms study_programs [not null]
}

Table study_programs {
  id String [pk]
  name String [not null]
  description String [not null]
  startDate String
  studyProgramLanguage studyProgramLanguage [not null, default: 'EN']
  degreeType String [not null]
  format String [not null]
  attendance String [not null]
  applyDate String
  paymentCycle String [not null]
  studyProgramLink String
  universityId String [not null]
  tuitionFee Int
  IELTSScore Float
  TOEFLScore Int
  duration Float
  applications applications [not null]
  discipline disciplines_on_programs [not null]
  university universities [not null]
}

Table disciplines {
  id String [pk]
  name String [not null]
  disciplineOnProgram disciplines_on_programs [not null]
}

Table disciplines_on_programs {
  disciplineId String [not null]
  studyProgramId String [not null]
  discipline disciplines [not null]
  studyProgram study_programs [not null]

  indexes {
    (disciplineId, studyProgramId) [pk]
  }
}

Table applications {
  id String [pk]
  studyProgramId String [not null]
  userId String [not null]
  studyProgram study_programs [not null]
  user users [not null]
  documents documents [not null]
  forms forms [not null]
}

Table forms {
  id String [pk]
  applicationId String [not null]
  application applications [not null]
}

Table documents {
  id String [pk]
  applicationId String [not null]
  application applications [not null]
}

Enum Role {
  NEW_STUDENT
  ACCEPTED_STUDENT
  COMMUNITY_ANGEL
  ADMIN
}

Enum studyProgramLanguage {
  EN
  PL
}

Ref: activation_tokens.userId > users.id

Ref: accounts.userId > users.id [delete: Cascade]

Ref: sessions.userId > users.id [delete: Cascade]

Ref: study_programs.universityId > universities.id [delete: Cascade]

Ref: disciplines_on_programs.disciplineId > disciplines.id [delete: Cascade]

Ref: disciplines_on_programs.studyProgramId > study_programs.id [delete: Cascade]

Ref: applications.studyProgramId > study_programs.id

Ref: applications.userId > users.id

Ref: forms.applicationId > applications.id

Ref: documents.applicationId > applications.id